# Puss项目 #

## 设计目标 ##
  * 方便程序员使用的精致的跨平台源码编辑器
  * 使用小巧而富有弹性的编辑器为内核
  * 良好而简捷的模块化架构，方便扩展
  * 丰富的扩展模块可以快速将Puss变成任何编程语言的编辑器或IDE

## 编码规范 ##
  * 目前使用glib、gtk+库和gtksourceview2为基础平台，由于其丰富的实用程序(Utilities)，尽量不要再使用新的第三方库
  * 在同一模块中使用相同的编码准则即可，对外接口要使用统一规则
  * 不使用复杂的设计模式，一切从简


## 程序架构 ##
> 采用模块化设计，总体架构分为三个层次：

### Puss核心层 ###
  * 文档管理及编辑器
> > 文档管理：新建、加载、保存、关闭
> > 文档编辑功能（直接使用gtksourceview2）
  * UI框架（使用GtkBuilder，界面使用xml文件）
> > 直接使用GtkBuilder模块即可方便获取Puss中的任何界面对象
  * 扩展管理模块（ExtendManager)
> > 加载、卸载扩展模块
> > 扩展模块接口查询
  * 统一插件管理模块（PluginManager)
> > 插件引擎扩展接口(可以提供不同语言写插件，但要先注册相应的引擎)
> > 插件列表、添加、删除、启用、停用插件

### Puss扩展层 ###

> 扩展模块主要提供统一的扩展功能，为插件服务，比如语法提示界面扩展，提供源码大纲界面、语法提示界面等，具体的插件(如Ｃ++语法插件、Python语法插件)提供数据服务。
  * Puss扩展模块使用DLL接口
  * 扩展模块之间也可以通过Puss的扩展管理模块相互联系

### Puss插件层 ###
> 插件模块可以使用Puss内核接口及各扩展接口提供服务，插件之间不提供相互访问机制。插件可以使用不同的语言编写(但要先有相应的语言引擎，目前预计内置LUA引擎,提供Python引擎)

注：在这样的架构下，自由度和依赖性达到了一种平衡，没有完美的设计，当前的设计已经足够好用，但可以根据实际情况在下一个重构版本中进行优化和调整，但中心思想不变－－简捷（不为了所谓的“完美”增加漂亮的装饰）。

## 现阶段计划及目标 ##

### Puss主体部分 ###
> 编辑器文件加载功能使用gio重构
> mini命令行转为扩展
> Option机制需要新规划，或将其界面部分做成扩展

### Puss扩展部分 ###
> 初步的扩展模块计划，分为以一几类：
  * 脚本扩展引擎，目前为python，准备使用更小的lua或js。python很棒，但做内嵌的插件引擎有些大，当然，python仍会保留，只不过不作为默认扩展。
  * IDE通用扩展模块，语法提示、大纲、调试器界面及接口。
  * 统一插件引擎，构建第三层扩展，为多语言提供统一的插件管理、界面及实现接口。
  * 功能扩展类模块，如现在已实现的控制台、拖拽打开文件、多文件搜索等功能做成插件。

### Puss插件部分 ###
> 现阶段准备先出lua插件脚本引擎，并以其做为内置脚本引擎，之后主要使用c和lua编写插件。
> Python插件脚本引擎保留，但需自行安装python及pygtk。